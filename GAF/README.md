# 阶段一：对于可再生能源发电功率单时间序列数据降维


## 简介
特征表示的目的是利用少量特征近似表现原序列，起到降维的作用，进而提高生成模型的执行效率。以光伏发电功率数据为例，单电站条件下2天的功率数据是一条形状为[576, 1]的时间序列数据，直接采用GAF二维化会使生成结果维度极高，难以作为生成模型的输入数据，需要采用多种方法进行信息提取。
* 代码描述了多种数据降维策略，基于背景我们试图找到最好的那个方法;
* 为了对降维质量量化描述，引入多种相似性检测方法;
* 采用GAF策略将降维序列图像化。


兼容: **Python 3.6+**.

---



## 代码描述

代码分布结构如下树状：
```yaml
- GAF
    - evaluation
        - DTW
        - ED
        - KL_Distance
        - LCSS
        - Person
    - method
        - GA
        - Important Sampling
        - Linear Approx
        - LTTB
        - LTTB_Pikaz
        - LTTB_WA
        - NNforFitting
        - Seq2Seq
    - pic
    - utils
        - GAF
        - gif_images
        - segMean


```

### method

"方法"中包括了多种降维算法（只针对单条时间序列），其中LTTB_Pikaz和LTTB_WA为基于经典算法LTTB的改进版本
#### LTTB_Pikaz
考虑到最大三角形面积和最长垂直距离的相关性，我们将LTTB和Pikaz提出的多边形逼近方法进行结合，得到一种分段后剪枝的策略，通过参数调节我们得到了指定数量的重要特征点，展现出比原始方法更好的性能。
#### LTTB_WA
在LTTB的基础上，我们引入类似于贝尔曼方程的计算形式，将段中每个点都按照其重要程度给出不同的权值，并以段均值作参考，最终我们得到了比较优秀的实验结果，和其他方法相比具有竞争性。
#### SWAB
这是一种基于滑动窗口和自下而上的算法，在光伏发电数据要求的多种背景下，其结果仍具有竞争性。
#### Others
seq2seq和GA算法尚未完成，目前仅是一个构思和框架，等后续研究完成后再作进一步的方法优化。
### evaluation
我们从五个角度分别对规约后的时间序列进行相似性评估，其中欧氏距离、LCSS(相似子序列)等评估方法进行了修改和优化，以适用于不同长度序列间的比较。
#### GAF
最后我们将降维后的数据二维化，并用热力图展示，通过图像我们能够很容易发现不同方法的降维质量。

---

## 结果展示
在工程中，我们已经将方法评估和生成质量图像公开，保存于文件夹pic中。

---

## 下阶段计划

基于高性能方法生成的GAF，我们进一步进行多光伏电站的时序聚类，通过时间序列提取不同特征来获得比较好的聚类效果（也就是聚类结果比较吻合空间上的实际距离），后根据聚类结果降维后再进行生成模型的构建。
###下阶段短期主要任务
阅读论文和一些代码，了解一下目前多维时间序列的聚类处理。